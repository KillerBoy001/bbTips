/*
 * Wowhead script
 */
if(typeof $WH=="undefined"){$WH={wowheadRemote:true}}if(typeof $WowheadPower=="undefined"){var $WowheadPower=new function(){var U=$WH.wowheadRemote;var x={applyto:3},r=document.getElementsByTagName("head")[0],F=false,g,N,R,I,t,Y,L,J,i=0,ac=false,M={},h={},y={},G={},T={},ae={},e={},X=1,A=1,Q=0,O=1,j=2,u=3,P=4,v=1,l=2,C=3,H=5,w=6,o=10,k=100,q=15,E=15,B={loading:"Loading...",noresponse:"No response from server :(",achievementcomplete:"Achievement earned by $1 on $2/$3/$4"},s={1:[M,"npc","NPC"],2:[h,"object","Object"],3:[y,"item","Item"],5:[G,"quest","Quest"],6:[T,"spell","Spell"],10:[ae,"achievement","Achievement"],100:[e,"profile","Profile"]},d={0:"enus",2:"frfr",3:"dede",6:"eses",7:"ruru"},b={wotlk:"www"};if(U){var S={id:0,name:"enus"}}if(F){d[25]="ptr"}else{b.ptr="www"}function Z(){if(U){var af=document.createElement("script");af.src="http://static.wowhead.com/js/basic.js?5";r.appendChild(af)}else{V()}}function V(){if(ac){return}ac=true;$WH.aE(document,"mouseover",z)}this.init=function(){if(U){$WH.ae(r,$WH.ce("link",{type:"text/css",href:"http://static.wowhead.com/css/basic.css?5",rel:"stylesheet"}))}V()};function p(af){var ag=$WH.g_getCursorPos(af);L=ag.x;J=ag.y}function ab(ar,an){if(ar.nodeName!="A"&&ar.nodeName!="AREA"){return -2323}if(!ar.href.length){return}if(ar.rel&&ar.rel.indexOf("np")!=-1){return}var ak,aj,ah,ag,al={};t=al;var af=function(at,av,au){if(av=="buff"||av=="sock"){al[av]=true}else{if(av=="rand"||av=="ench"||av=="lvl"||av=="c"){al[av]=parseInt(au)}else{if(av=="gems"||av=="pcs"){al[av]=au.split(":")}else{if(av=="who"||av=="domain"){al[av]=au}else{if(av=="when"){al[av]=new Date(parseInt(au))}}}}}};if(x.applyto&1){aj=2;ah=3;if(ar.href.indexOf("http://")==0){ak=1;ag=ar.href.match(/^http:\/\/(.+?)?\.?wowhead\.com\/\??(item|quest|spell|achievement|npc|object)=([0-9]+)/);if(ag==null){ag=ar.href.match(/^http:\/\/(.+?)?\.?wowhead\.com\/\??(profile)=([^&#]+)/)}A=0}else{ag=ar.href.match(/()\??(item|quest|spell|achievement|npc|object)=([0-9]+)/);if(ag==null){ag=ar.href.match(/()\??(profile)=([^&#]+)/)}A=1}}if(ag==null&&ar.rel&&(x.applyto&2)){ak=0;aj=1;ah=2;ag=ar.rel.match(/(item|quest|spell|achievement|npc|object).?([0-9]+)/);if(ag==null){ag=ar.rel.match(/(profile).?([^&#]+)/)}A=1}ar.href.replace(/([a-zA-Z]+)=?([a-zA-Z0-9:-]*)/g,af);if(ar.rel){ar.rel.replace(/([a-zA-Z]+)=?([a-zA-Z0-9:-]*)/g,af)}if(al.gems&&al.gems.length>0){var am;for(am=Math.min(3,al.gems.length-1);am>=0;--am){if(parseInt(al.gems[am])){break}}++am;if(am==0){delete al.gems}else{if(am<al.gems.length){al.gems=al.gems.slice(0,am)}}}if(ag){var aq,ai="www";Y=ar;if(al.domain){ai=al.domain}else{if(ak&&ag[ak]){ai=ag[ak]}}if(b[ai]){ai=b[ai]}aq=$WH.g_getLocaleFromDomain(ai);I=ai;if(ar.href.indexOf("#")!=-1&&document.location.href.indexOf(ag[aj]+"="+ag[ah])!=-1){return}i=((ar.parentNode.className.indexOf("icon")==0&&ar.parentNode.nodeName=="DIV")?1:0);if(!ar.onmouseout){if(i==0){ar.onmousemove=a}ar.onmouseout=aa}p(an);var ap=$WH.g_getIdFromTypeName(ag[aj]),ao=ag[ah];if(ap==k&&(typeof g_dev=="undefined"||!g_dev)){aq=0}D(ap,ao,aq,al)}}function z(ah){ah=$WH.$E(ah);var ag=ah._target;var af=0;while(ag!=null&&af<5&&ab(ag,ah)==-2323){ag=ag.parentNode;++af}}function a(af){af=$WH.$E(af);p(af);$WH.Tooltip.move(L,J,0,0,q,E)}function aa(){g=null;Y=null;$WH.Tooltip.hide()}function W(af){return(t&&t.buff?"buff_":"tooltip_")+d[af]}function m(ag,ai,ah){var af=s[ag][0];if(af[ai]==null){af[ai]={}}if(af[ai].status==null){af[ai].status={}}if(af[ai].status[ah]==null){af[ai].status[ah]=Q}}function D(ag,ak,ai,aj){if(!aj){aj={}}var ah=f(ak,aj);g=ag;N=ah;R=ai;t=aj;m(ag,ah,ai);var af=s[ag][0];if(af[ah].status[ai]==P||af[ah].status[ai]==u){ad(af[ah][W(ai)],af[ah].icon)}else{if(af[ah].status[ai]==O){ad(B.loading)}else{c(ag,ak,ai,null,aj)}}}function c(ao,aj,ap,ah,ak){var af=f(aj,ak);var am=s[ao][0];if(am[af].status[ap]!=Q&&am[af].status[ap]!=j){return}am[af].status[ap]=O;if(!ah){am[af].timer=setTimeout(function(){n.apply(this,[ao,af,ap])},333)}var ai="";for(var al in ak){if(al!="rand"&&al!="ench"&&al!="gems"&&al!="sock"){continue}if(typeof ak[al]=="object"){ai+="&"+al+"="+ak[al].join(":")}else{if(al=="sock"){ai+="&sock"}else{ai+="&"+al+"="+ak[al]}}}var ag="";if(typeof g_dev=="undefined"||!g_dev){ag+="http://"+$WH.g_getDomainFromLocale(ap)+".wowhead.com"}else{if(document.domain.indexOf("dev.wowhead.com")!=-1){var an=$WH.g_getDomainFromLocale(ap);if(an!="www"&&document.domain.indexOf(an)!=0){ag+="http://"+$WH.g_getDomainFromLocale(ap)+"."+document.domain}}}ag+="/"+s[ao][1]+"="+aj+"&power"+ai;$WH.g_ajaxIshRequest(ag)}function ad(ai,aj){if(Y&&Y._fixTooltip){ai=Y._fixTooltip(ai,g,N,Y)}var ak=false;if(!ai){ai=s[g][2]+" not found :(";aj="inv_misc_questionmark";ak=true}else{if(t!=null){if(t.pcs&&t.pcs.length){var al=N.match(/^(\d+)/);al=al[1];var am=0;for(var ah=0,ag=t.pcs.length;ah<ag;++ah){var af;if(af=ai.match(new RegExp("<span><!--si([0-9]+:)*"+t.pcs[ah]+'(:[0-9]+)*--><a href="/\\?item=(\\d+)">(.+?)</a></span>'))){if($WH.isset("g_items")&&g_items[t.pcs[ah]]){ai=ai.replace(af[0],'<span class="q8"><!--si'+t.pcs[ah]+'--><a href="/item='+t.pcs[ah]+'">'+g_items[t.pcs[ah]]["name_"+d[R]]+"</a></span>");++am}else{if(al==t.pcs[ah]){ai=ai.replace(af[0],'<span class="q8"><!--si'+t.pcs[ah]+'--><a href="/item='+t.pcs[ah]+'">'+af[4]+"</a></span>");++am}}}else{if(af=ai.match(new RegExp("<span><!--si([0-9]+:)*"+t.pcs[ah]+"(:[0-9]+)*-->"))){ai=ai.replace(af[0],'<span class="q8"><!--si'+t.pcs[ah]+"-->");++am}}}if(am>0){ai=ai.replace("(0/","("+am+"/");ai=ai.replace(new RegExp("<span>\\(([0-"+am+"])\\)","g"),'<span class="q2">($1)')}}if(t.lvl){ai=$WH.g_setTooltipItemLevel(ai,t.lvl)}if(t.who&&t.when){ai=ai.replace("<table><tr><td><br />",'<table><tr><td><br /><span class="q2">'+$WH.sprintf(B.achievementcomplete,t.who,t.when.getMonth()+1,t.when.getDate(),t.when.getFullYear())+"</span><br /><br />");ai=ai.replace(/class="q0"/g,'class="r3"')}}}if(i==1){$WH.Tooltip.setIcon(null);$WH.Tooltip.show(Y,ai)}else{$WH.Tooltip.setIcon(aj);$WH.Tooltip.showAtXY(ai,L,J,q,E)}if(U&&$WH.Tooltip.logo){$WH.Tooltip.logo.style.display=(A?"block":"none")}}function n(ag,ai,ah){if(g==ag&&N==ai&&R==ah){ad(B.loading);var af=s[ag][0];af[ai].timer=setTimeout(function(){K.apply(this,[ag,ai,ah])},3850)}}function K(ag,ai,ah){var af=s[ag][0];af[ai].status[ah]=j;if(g==ag&&N==ai&&R==ah){ad(B.noresponse)}}function f(ag,af){return ag+(af.rand?"r"+af.rand:"")+(af.ench?"e"+af.ench:"")+(af.gems?"g"+af.gems.join(","):"")+(af.sock?"s":"")}this.register=function(ah,aj,ai,ag){var af=s[ah][0];m(ah,aj,ai);if(af[aj].timer){clearTimeout(af[aj].timer);af[aj].timer=null}$WH.cO(af[aj],ag);if(af[aj].status[ai]==O){if(af[aj][W(ai)]){af[aj].status[ai]=P}else{af[aj].status[ai]=u}}if(g==ah&&aj==N&&R==ai){ad(af[aj][W(ai)],af[aj].icon)}};this.registerNpc=function(ah,ag,af){this.register(v,ah,ag,af)};this.registerObject=function(ah,ag,af){this.register(l,ah,ag,af)};this.registerItem=function(ah,ag,af){this.register(C,ah,ag,af)};this.registerQuest=function(ah,ag,af){this.register(H,ah,ag,af)};this.registerSpell=function(ah,ag,af){this.register(w,ah,ag,af)};this.registerAchievement=function(ah,ag,af){this.register(o,ah,ag,af)};this.registerProfile=function(ah,ag,af){this.register(k,ah,ag,af)};this.request=function(af,aj,ah,ai){if(!ai){ai={}}var ag=f(aj,ai);m(af,ag,ah);c(af,aj,ah,1,ai)};this.requestItem=function(ag,af){this.request(C,ag,S.id,af)};this.requestSpell=function(af){this.request(w,af,S.id)};this.getStatus=function(ag,ai,ah){var af=s[ag][0];if(af[ai]!=null){return af[ai].status[ah]}else{return Q}};this.getItemStatus=function(ag,af){this.getStatus(C,ag,af)};this.getSpellStatus=function(ag,af){this.getStatus(w,ag,af)};if(U){this.set=function(af){$WH.cO(x,af)};this.showTooltip=function(ah,af,ag){p(ah);ad(af,ag)};this.hideTooltip=function(){$WH.Tooltip.hide()};this.moveTooltip=function(af){a(af)}}Z()}};